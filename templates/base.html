<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}Ø§Ù„Ù†Ø¸Ø§Ù…{% endblock %}</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <style>
    /* ğŸ¨ Ø§Ù„Ù‡ÙŠØ¯Ø± */
    .custom-header {
      background: linear-gradient(90deg, #198754, #ffffff);
      padding: 4px 15px;
    }
    .company-logo {
      height: 26px;
      width: auto;
    }
    .company-name {
      font-size: 15px;
      font-weight: bold;
      color: #198754;
    }

    /* ğŸ¨ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆØ£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… */
    .user-info {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 14px;
      font-weight: 500;
      color: #198754;
      background: #fff;
      padding: 4px 10px;
      border-radius: 20px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    .user-info i {
      color: #198754;
    }
    .user-info .btn {
      padding: 4px 10px;
      font-size: 13px;
      border-radius: 15px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
    }
    .user-info .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }
    .btn-home {
      background: linear-gradient(45deg, #198754, #20c997);
      color: #fff;
    }
    .btn-home:hover {
      background: linear-gradient(45deg, #145c32, #20c997);
      color: #fff;
    }
    .btn-back {
      background: linear-gradient(45deg, #6c757d, #343a40);
      color: #fff;
    }
    .btn-back:hover {
      background: linear-gradient(45deg, #495057, #212529);
      color: #fff;
    }
    .btn-logout {
      background: linear-gradient(45deg, #dc3545, #e63946);
      color: #fff;
    }
    .btn-logout:hover {
      background: linear-gradient(45deg, #b02a37, #c92a2a);
      color: #fff;
    }

    /* ğŸ¨ Ø§Ù„ÙÙˆØªØ± */
    .custom-footer {
      background: linear-gradient(90deg, #ffffff, #198754);
      color: #198754;
      font-size: 13px;
      position: fixed;
      bottom: 0;
      width: 100%;
      padding: 4px 0;
    }
    .designer {
      color: #198754;
    }
  </style>

  {% block styles %}{% endblock %}
</head>
<body>

<!-- âœ… Ø§Ù„Ù‡ÙŠØ¯Ø± -->
<nav class="navbar navbar-expand-lg navbar-dark custom-header">
  <div class="container-fluid d-flex align-items-center justify-content-between">

    <!-- Ø´Ø¹Ø§Ø± Ø§Ù„Ø´Ø±ÙƒØ© -->
    <a class="navbar-brand d-flex align-items-center" href="#">
      <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Ø´Ø¹Ø§Ø± Ø§Ù„Ø´Ø±ÙƒØ©" class="company-logo me-2">
      <span class="company-name">Ø§Ù„Ø´Ø±ÙƒØ© Ø§Ù„ÙŠÙ…Ù†ÙŠØ© Ù„ØªÙƒØ±ÙŠØ± Ø§Ù„Ø³ÙƒØ±</span>
    </a>

    <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆØ£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… -->
    <div class="d-flex align-items-center">
      <div class="user-info">
        <i class="fas fa-user-circle"></i>
        {{ current_user.fullname }}

        <!-- Ø£ÙŠÙ‚ÙˆÙ†Ø© ØªØ¹Ù„ÙŠÙ…Ø§Øª -->
        <button class="btn btn-sm" onclick="toggleHelp()" title="Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª">
          <i class="fas fa-question-circle text-warning"></i>
        </button>

        <!-- Ø£ÙŠÙ‚ÙˆÙ†Ø© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ -->
        <button class="btn btn-sm" onclick="toggleAppInfo()" title="Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚">
          <i class="fas fa-info-circle text-primary"></i>
        </button>

        <!-- Ø²Ø± Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
        <a href="{% if current_user.role == 'admin' %}{{ url_for('dashboard') }}{% else %}{{ url_for('user_dashboard') }}{% endif %}" class="btn btn-home btn-sm">
          <i class="fas fa-home"></i>
        </a>

        <!-- Ø²Ø± Ø±Ø¬ÙˆØ¹ -->
        <a href="javascript:history.back()" class="btn btn-back btn-sm">
          <i class="fas fa-arrow-right"></i>
        </a>

        <!-- Ø²Ø± ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬ -->
        <a href="{{ url_for('logout') }}" class="btn btn-logout btn-sm">
          <i class="fas fa-sign-out-alt"></i>
        </a>
      </div>
    </div>
  </div>
</nav>

  <!-- âœ… Ø§Ù„Ù…Ø­ØªÙˆÙ‰ -->
  <main class="container my-4">
    {% block content %}{% endblock %}
  </main>

  <!-- âœ… Ø§Ù„ÙÙˆØªØ± -->
  <footer class="custom-footer text-center">
    <div class="designer">
      ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ / <strong>Ù…. Ø¹Ù„ÙŠ Ù…Ø¨Ø§Ø±Ùƒ</strong>
    </div>
  </footer>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  {% block scripts %}{% endblock %}
</body>
</html>
