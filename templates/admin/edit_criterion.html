{% extends "base.html" %}
{% block title %}ุชุนุฏูู ุงููุนูุงุฑ{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2 class="mb-4 text-primary fw-bold">ุชุนุฏูู ุงููุนูุงุฑ</h2>

    <form method="post" class="mb-4 p-3 border rounded shadow-sm" style="background-color: #f0f9f5;">
        <div class="row g-3 align-items-end">
            <!-- ุงุฎุชูุงุฑ ุงูููุงู -->
            <div class="col-md-3">
                <label for="place_id" class="form-label fw-bold">ุงุฎุชุฑ ุงูููุงู</label>
                <select id="place_id" name="place_id" class="form-select" required>
                    {% for location in locations %}
                        <optgroup label="{{ location.name }}">
                            {% for site in location.sites %}
                                {% for place in site.places %}
                                    <option value="{{ place.id }}" {% if place.id == criterion.place_id %}selected{% endif %}>
                                        {{ location.name }} / {{ site.name }} / {{ place.name }}
                                    </option>
                                {% endfor %}
                            {% endfor %}
                        </optgroup>
                    {% endfor %}
                </select>
            </div>

            <!-- ุงุณู ุงููุนูุงุฑ -->
            <div class="col-md-3">
                <label for="name" class="form-label fw-bold">ุงุณู ุงููุนูุงุฑ</label>
                <input type="text" name="name" id="name" class="form-control" required value="{{ criterion.name }}">
            </div>

            <!-- ุงูุญุฏ ุงูุฃุฏูู -->
            <div class="col-md-2">
                <label for="min_score" class="form-label fw-bold">ุงูุญุฏ ุงูุฃุฏูู</label>
                <input type="number" name="min_score" id="min_score" class="form-control" step="0.01" required value="{{ criterion.min_score }}">
            </div>

            <!-- ุงูุญุฏ ุงูุฃุนูู -->
            <div class="col-md-2">
                <label for="max_score" class="form-label fw-bold">ุงูุญุฏ ุงูุฃุนูู</label>
                <input type="number" name="max_score" id="max_score" class="form-control" step="0.01" required value="{{ criterion.max_score }}">
            </div>

            <!-- ุฌูุฉ ุงููุณุคูููุฉ -->
            <div class="col-md-2">
                <label for="authority_id" class="form-label fw-bold">ุฌูุฉ ุงููุณุคูููุฉ</label>
                <select id="authority_id" name="authority_id" class="form-select" required>
                    {% for auth in authorities %}
                        <option value="{{ auth.id }}" {% if auth.id == criterion.authority_id %}selected{% endif %}>{{ auth.name }}</option>
                    {% endfor %}
                </select>
            </div>

            <!-- ุฃุฒุฑุงุฑ ุงูุญูุธ ูุงูุฅูุบุงุก -->
            <div class="col-md-12 mt-3 d-flex gap-2">
                <button type="submit" class="btn btn-success shadow-sm">๐พ ุญูุธ ุงูุชุนุฏููุงุช</button>
                <a href="{{ url_for('criteria') }}" class="btn btn-secondary shadow-sm">โ ุฅูุบุงุก</a>
            </div>
        </div>
    </form>
</div>
{% endblock %}
